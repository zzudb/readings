if(!window.dblp){throw ("dblp-ui.js: dblp.js has not been loaded.")}dblp.ui=dblp.ui||{};(function(i,b){var d=function(o,p){var n=o+"?";for(var q in p){n+=q+"="+p[q]+"&"}n=n.substring(0,n.length-1);return encodeURI(n)};var j=function(q){var p=0,n,o;if(q.length===0){return p}for(n=0;n<q.length;n++){o=q.charCodeAt(n);p=((p<<5)-p)+o;p|=0}return p};i.initScrollBars=function(){$("body.js").css("overflow-y","scroll")};i.initInpageNav=function(){$("nav.side a").click(function(n){n.preventDefault();var o;if($(this).attr("href")=="#"){o=0}else{o=$($(this).attr("href")).offset().top-12}$("html, body").animate({scrollTop:o},250);return false})};i.initHideables=function(){$(".hideable").each(function(){var n=$(this).find(".hide-head").attr("id");if(!n){n=$(this).find(".hide-head").parent().attr("id")}$(this).find(".hide-head").prepend('<a href="#" class="toggle show">[+]</a><a href="#" class="toggle hide">[&ndash;]</a>&nbsp;');$(this).find(".show").hide();$(this).find(".hide").show();if($(this).hasClass("hidden")||$(this).find(".hide-body").hasClass("hidden")){$(this).find(".show").show();$(this).find(".hide").hide();$(this).find(".hide-body").hide()}if($.cookie("dblp-hideable-show-"+n)=="true"){console.debug('expanding section "'+n+'" as stored in cookie');$(this).find(".show").hide();$(this).find(".hide").show();$(this).find(".hide-body").show()}else{if($.cookie("dblp-hideable-hide-"+n)=="true"){console.debug('collapsing section "'+n+'" as stored in cookie');$(this).find(".show").show();$(this).find(".hide").hide();$(this).find(".hide-body").hide()}else{if($.cookie("dblp-hideable-showall")=="true"){$(this).find(".show").hide();$(this).find(".hide").show();$(this).find(".hide-body").show()}else{if($.cookie("dblp-hideable-hideall")=="true"){$(this).find(".show").show();$(this).find(".hide").hide();$(this).find(".hide-body").hide()}}}}if(n=="homonyms"&&$("#publ-section").length==0){console.debug("expanding homonym section since this is a disambiguation page");$(this).find(".show").hide();$(this).find(".hide").show();$(this).find(".hide-body").show()}$(this).find(".show").click(function(){console.debug('expanding section "'+n+'" on click');$(this).parent().find(".show").hide();$(this).parent().find(".hide").show();$(this).parent().parent().find(".hide-body").show("slow");$.removeCookie("dblp-hideable-hide-"+n,{path:dblp.COOKIE_PATH});$.cookie("dblp-hideable-show-"+n,true,{path:dblp.COOKIE_PATH,expires:dblp.COOKIE_EXPIRES_IN_DAYS});return false});$(this).find(".hide").click(function(){console.debug('collapsing section "'+n+'" on click');$(this).parent().find(".show").show();$(this).parent().find(".hide").hide();$(this).parent().parent().find(".hide-body").hide("slow");$.removeCookie("dblp-hideable-show-"+n,{path:dblp.COOKIE_PATH});$.cookie("dblp-hideable-hide-"+n,true,{path:dblp.COOKIE_PATH,expires:dblp.COOKIE_EXPIRES_IN_DAYS});return false})});$(".headline").each(function(){if($(".hideable").length==0){return}$(this).prepend('<ul class="hide-control"><li title="expand all"><a href="#" class="show-all"><span class="generic-thin-icon">[+]</span></a></li><li title="collapse all"><a href="#" class="hide-all"><span class="generic-thin-icon">[&ndash;]</span></a></li></ul>');$(this).find(".show-all").click(function(){console.debug("expanding all sections on click");$(document).find(".hide-head").find(".show").hide();$(document).find(".hide-head").find(".hide").show();$(document).find(".hide-body").show(1000);cookieList=document.cookie.split(";");for(var n=0;n<cookieList.length;n++){var o=jQuery.trim(cookieList[n]).split("=")[0];if((/^dblp-hideable-/).test(o)){$.removeCookie(o,{path:dblp.COOKIE_PATH})}}$.cookie("dblp-hideable-showall",true,{path:dblp.COOKIE_PATH,expires:dblp.COOKIE_EXPIRES_IN_DAYS});return false});$(this).find(".hide-all").click(function(){console.debug("collapsing all sections on click");$(document).find(".hide-head").find(".show").show();$(document).find(".hide-head").find(".hide").hide();$(document).find(".hide-body").hide(1000);cookieList=document.cookie.split(";");for(var n=0;n<cookieList.length;n++){var o=jQuery.trim(cookieList[n]).split("=")[0];if((/^dblp-hideable-/).test(o)){$.removeCookie(o,{path:dblp.COOKIE_PATH})}}$.cookie("dblp-hideable-hideall",true,{path:dblp.COOKIE_PATH,expires:dblp.COOKIE_EXPIRES_IN_DAYS});return false})});$(".side").find("a").click(function(){var n=$(this).attr("href");if(n!="#"&&n!="#footer"){$(document).find(n).find(".show").hide();$(document).find(n).find(".hide").show();$(document).find(n).parent().find(".hide-body").show("slow");var o=$(document).find(n).attr("id");$.removeCookie("dblp-hideable-hide-"+o,{path:dblp.COOKIE_PATH});$.cookie("dblp-hideable-show-"+o,true,{path:dblp.COOKIE_PATH,expires:dblp.COOKIE_EXPIRES_IN_DAYS})}return true})};i.initDismissables=function(){$(".dismissable").each(function(){var p=$(this).attr("id");if(!p){p="hash-"+j($(this).text())}if($.cookie("dblp-dismiss-"+p)!="true"){var o=$(this);o.show();o.css("position","relative");o.append('<div class="dismiss"><img alt="" title="dismiss" src="'+dblp.BASE_URL+'/img/clear-mark.big.16x16.png" /></div>');var n=o.find(".dismiss");n.css("position","absolute");n.css("top","4px");n.css("right","10px");n.css("cursor","pointer");n.click(function(){$.cookie("dblp-dismiss-"+p,true,{path:dblp.COOKIE_PATH,expires:dblp.COOKIE_EXPIRES_IN_DAYS});o.hide("slow")})}})};i.initExpandables=function(){$(".expandable").each(function(){var o=$(this).prev("dt");var q=o.text().substring(0,4);var s=o.attr("id");var p=$(this).find(".expand-head");var n=$(this).find(".expand-body");p.show();n.hide();n.after('<div class="expand-control"><p class="toggle show"><a href="'+dblp.BASE_URL+"/news/"+q+"#"+s+'">show more</a></p><p class="toggle hide"><a href="'+dblp.BASE_URL+"/news/"+q+"#"+s+'">show less</a></p></div>');var r=$(this).find(".expand-control");r.find(".show").show();r.find(".hide").hide();r.css("font-style","italic");r.css("font-size","small");r.click(function(){n.toggle();r.find(".toggle").toggle();return false})})};i.initInputFocus=function(){$(document).keypress(function(o){if(o.keyCode==27){$("input:focus").blur();return}if(o.keyCode==13){var n;if($("#search").length!=0){n=$('#search form input[name="q"]')}else{n=$('#completesearch form input[name="q"]')}if(n.length!=0){n.focus()}return}if(o.charCode==0){return}if($("input:focus").length==0){console.log(o);var n;if($("#search").length!=0){n=$('#search form input[name="q"]')}else{n=$('#completesearch form input[name="q"]')}if(n.length!=0){n.focus();n.val(n.val()+String.fromCharCode(o.charCode));n.trigger("input")}}})};function g(){if(!navigator.clipboard){alert("no clipboard");return}navigator.clipboard.writeText(alert($(this).text())).then(function(){navigator.clipboard.readText().then(function(n){console.log("copied to clipboard:",n)})})}function c(){var o=$(this).getSelectionText();if(!o||o.length==0){$(this).selectText();var n=document.execCommand("copy");if(!n){console.error("failed to copy text to clipboard :(")}}}i.initTextSelect=function(){$("#main").on("click",".select-on-click",c);$("#main").on("mouseenter",".select-on-click",function(){if(!$(this).prop("title")){$(this).prop("title","click to copy to clipboard")}})};i.initBanner=function(){$("#banner").each(function(){$(this).find(".message").each(function(){if($(this).hasClass("permanent")){$(this).show();return}var o=$(this).attr("data-version");if(!o){return}if($.cookie("dblp-banner-hide-"+o)!="true"){$(this).show("slow");$(this).append('<div class="dismiss"><img alt="" title="dismiss" src="'+dblp.BASE_URL+'/img/clear-mark.big.16x16.png" /></div>');var n=$(this).find(".dismiss");n.css("position","absolute");n.css("top","4px");n.css("right","10px");n.css("cursor","pointer");n.click(function(){$.cookie("dblp-banner-hide-"+o,true,{path:dblp.COOKIE_PATH,expires:dblp.COOKIE_EXPIRES_IN_DAYS});$(this).parent().hide("slow")})}})})};i.initArchiveUrls=function(){$("#main").on("click","a.archive",function(q){q.preventDefault();console.debug("start asking wayback machine");var o=$("<iframe>");o.hide();o.appendTo("body");var n=$(this).attr("href");var p="https://archive.org/wayback/available?url="+n;if(dblp.TEAM_MODE_ENABLED||dblp.LEY_MODE_ENABLED||dblp.MRA_MODE_ENABLED){$.post("https://dblps.uni-trier.de/~mra/cgi-bin/200.py?wayback")}console.debug("calling: ",p);o[0].contentDocument.open();$.ajax(p,{dataType:"jsonp"}).done(function(t,u,s){try{window.location.href=t.archived_snapshots.closest.url}catch(r){window.location.href=n}}).fail(function(){window.location.href=n}).always(function(){o[0].contentDocument.close();o.remove();console.info("done asking wayback machine")});return false})};var k=function(){var n=$("#tweets");if(n.length==0){return}var p='<p id="tweets-load"><input type="checkbox" checked><a>load tweets from twitter.com</a></p>';p+='<p><a class="twitter-timeline" data-lang="en" data-width="240" data-height="600" data-dnt="true" data-partner="tweetdeck" data-link-color="#7d848a" href="https://twitter.com/dblp_org/timelines/960455703956770817?ref_src=twsrc%5Etfw">dblp tweets &ndash; curated tweets by @dblp_org</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"><\/script></p>';n.find(".hide-body").html(p);n.show();var o=n.find("#tweets-load");o.css("vertical-align","middle");o.find("a").css("position","relative").css("top","-2px");o.css("cursor","pointer");o.click(function(){$.cookie("dblp-tweets-load",false,{path:dblp.COOKIE_PATH,expires:dblp.COOKIE_EXPIRES_IN_DAYS});i.initTweets()})};i.initTweets=function(){if($.cookie("dblp-tweets-load")=="true"){k();return}var n=$("#tweets");if(n.length==0){return}var p='<p id="tweets-load"><input type="checkbox"><a>load tweets from twitter.com</a></p>';p+="<p><b>Privacy notice:</b></p>";p+='<p>By enabling the option above, your browser will contact the servers of Twitter to load tweets curated by our Twitter accout. At the same time, Twitter will persitently store several cookies with your web browser. While we did signal Twitter to not track our users by setting the <a href="https://dev.twitter.com/web/overview/privacy">&quot;dnt&quot; flag</a>, we do not have any control over how Twitter uses your data. So please proceed with care and consider checking the <a href="https://www.twitter.com/privacy">Twitter privacy policy</a>.</p>';p+="<p>Your decision whether to load or to not load tweets from twitter.com will be stored by us in a cookie with your web browser, and can be revoked at any time.</p>";n.find(".hide-body").html(p);n.show();var o=n.find("#tweets-load");o.css("vertical-align","middle");o.find("a").css("position","relative").css("top","-2px");o.css("cursor","pointer");o.click(function(){$.cookie("dblp-tweets-load",true,{path:dblp.COOKIE_PATH,expires:dblp.COOKIE_EXPIRES_IN_DAYS});k()})};var l=function(r,t){var n=10;var p=r.width()-2*n;var w=r.height()-n;var x;if(t.obs=="vol"){x={lo:"0",mid:"10",hi:"20+"}}else{x={lo:"0",mid:"50",hi:"100+"}}var u='<line x1="0" y1="'+w+'" x2="'+p+'" y2="'+w+'" stroke="#505b62" stroke-width="1" /><text x="0" y="'+(w+n)+'" class="tiny">'+x.lo+'</text><text x="'+((p-n)/2)+'" y="'+(w+n)+'" class="tiny">'+x.mid+'</text><text x="'+(p-n)+'" y="'+(w+n)+'" class="tiny">'+x.hi+"</text>";var o="";for(var q=5;q<=t.max;q+=5){var v=((1-q/t.max)*w)+1;o+='<line x1="0" y1="'+v+'" x2="'+p+'" y2="'+v+'" stroke="#aaaaaa" stroke-width="0.5"';if(q%10==0){o+=' stroke-dasharray="4 0" />'}else{o+=' stroke-dasharray="4 2" />'}}var B=t.h.length;var s=p/B;var z="";for(var q=0;q<B;q++){if(t.h[q].n<1){continue}z+='<rect x="'+(s*q)+'" y="'+((1-t.h[q].n/t.max)*w)+'" width="'+(s-1)+'" height="'+(t.h[q].n/t.max*w)+'" fill="hsl('+(100*q/(B-1))+', 100%, 40%)"><title>'+t.h[q].n+"</title></rect>"}r.html(o+z+u);var A=r.find("text");A.css("font","normal 8px sans-serif");A.css("fill","#505b62")};var m=function(v,A){var n=10;var t=v.width()-2*n;var C=v.height()-n;var o=3;var w='<line x1="0" y1="'+C+'" x2="'+t+'" y2="'+C+'" stroke="#505b62" stroke-width="1" /><text x="0" y="'+(C+n)+'" class="tiny">'+A.first+'</text><text x="'+(t-2*n)+'" y="'+(C+n)+'" class="tiny">'+A.last+"</text>";var p="";for(var u=5;u<=A.max;u+=5){if(A.max>500&&u%20!=0){continue}if(A.max>250&&u%10!=0){continue}var z=((1-u/A.max)*C)+1;p+='<line x1="0" y1="'+z+'" x2="'+t+'" y2="'+z+'" stroke="#aaaaaa" stroke-width="0.5"';if(u%10==0){p+=' stroke-dasharray="4 0" />'}else{p+=' stroke-dasharray="2 4" />'}}var s=t/(A.last-A.first+1);var D="";for(var u=0;u<A.s.length;u++){var B=(A.s[u].x-A.first)*s+s/2;var z=(1-A.s[u].y/A.max)*(C-o)+o;var q="hsl("+(100*(A.s[u].y<20?A.s[u].y:20)/20)+", 100%, 40%)";D+='<circle cx="'+B+'" cy="'+z+'" r="'+o+'" fill="'+q+'"><title>'+A.s[u].x+": "+Number(A.s[u].y).toFixed(1)+"</title></circle>"}v.html(p+w+D);var E=v.find("text");E.css("font","normal 8px sans-serif");E.css("fill","#505b62")};var f=function(u,s){var q=u.width();var y=u.height();var o=4;var x=(q/2)>o?(q/2)-o:0;var z=(s<100)?100-((100-s)*(100-s)/100):100;var t=z*x/100;var w=o+z*x/100;var p="hsl("+(s<100?100-s:0)+", 100%, 40%)";var n='<circle cx="'+(q/2)+'" cy="'+(y/2)+'" r="'+w+'" fill="'+p+'" /><circle cx="'+(q/2)+'" cy="'+(y/2)+'" r="'+t+'" fill="hsl(0,0%,100%)" />';var v='<line x1="0" y1="'+(y/2)+'" x2="'+q+'" y2="'+(y/2)+'" stroke="#505b62" stroke-width="1" stroke-dasharray="0" /><line x1="'+(q/2)+'" y1="0" x2="'+(q/2)+'" y2="'+y+'" stroke="#505b62" stroke-width="1" stroke-dasharray="0" />';u.html(n+v)};i.initBhtStat=function(){var u=$(".headline");var x=u.data("bhtkey");if(x==b){return}var o="https://dblps.uni-trier.de/~mra/cgi-bin/tocstatdata.py";var s={bhtkey:x};var q=$("nav.side");var p=$("#mirror-selector");p.after('<div id="tocstat" class="drop-down"><div class="head"><span id="tocstat-color"><img src="'+dblp.BASE_URL+'/img/n.png" alt="" /></span><span class="tocstat-perc"><img src="'+dblp.BASE_URL+'/img/waiting.anim.gif" alt="" /></span><span class="tocstat-rank" /><span id="tocstat-pagerank"><svg class="tocstat-pagerank-svg icon-svg"></svg> <em></em></span></div><div class="body"><p><b>dblp prominence</b> <small><a href="'+d(o,s)+'">[JSONP]</a></small></p><ul><li><span class="tocstat-score"><em>score:</em> ?</span></li><li><span class="tocstat-perc">?</span> among all <em><span class="tocstat-type">???</span></em></li><li>based on <em><span class="tocstat-base">?</span></em></li></ul><p id="tocstat-plot-label"></p><p><svg class="tocstat-hist-svg canvas-svg"></svg></p><p><svg class="tocstat-scat-svg canvas-svg"></svg></p><p id="tocstat-centrality-label"><b>CS centrality</b></p><ul id="tocstat-centrality"></ul><p id="tocstat-rankings-label"><b>rankings</b></p><ul id="tocstat-rankings"></ul><p><small>last update: <span id="tocstat-mdate">??</span></small></p></div></div>');var z=$("#tocstat");z.hide();z.css("float","right");z.css("display","inline");z.css("top","-4px");z.css("white-space","nowrap");z.css("margin","4px 0px 0px 8px");z.css("color","#505b62");z.css("background","#ffffff");z.find(".head .tocstat-perc").css("font-weight","bold");var A=z.find(".head");A.css("width","auto");A.css("height","auto");A.css("padding","1px 2px");A.css("position","relative");var w=z.find(".body");w.css("top","24px");w.css("left","auto");w.css("right","-20px");w.css("width","auto");w.css("min-width","160px");w.css("white-space","nowrap");var r=z.find("#tocstat-color img");r.css("background","hsl(0, 0%, 75%)");r.css("margin","0px 4px 0px 0px");r.css("border","1px dotted #505b62");r.css("position","relative");r.css("top","2px");var y=w.find("ul");y.css("margin","0px");y.css("padding","0px 0px 0.5ex 15px");var n=w.find(".canvas-svg");$("head").append('<style type="text/css">.canvas-svg { width:170px; height:80px; padding:0px 4px; }</style>');var v=z.find("#tocstat-pagerank");v.css("margin","0px 0px 0px 8px");var t=z.find(".icon-svg");$("head").append('<style type="text/css">.icon-svg { width:18px; height:18px; position:relative; top:4px; }</style>');console.debug("calling: ",d(o,s));$.ajax(o,{data:s,dataType:"jsonp"}).done(function(G,C,O){if("error" in G){z.hide()}else{var K=G.stat.type;var N=Number(G.stat.perc);var D;if(G.stat.n&&K=="tocs"){D="<em>toc score:</em> "+Number(G.stat.score).toFixed(1)}else{if(G.stat.n){D="<em>10y-avg score:</em> "+Number(G.stat.score).toFixed(1)}else{D="<em>score:</em> ??"}}var L;if(N<=50){L="top&nbsp;"+N+"%"}else{L="bottom&nbsp;"+(100-N+1)+"%"}var J;if(G.stat.n&&K=="tocs"){J=G.stat.n+" records"}else{if(G.stat.n){J="recent "+G.stat.avg+" years"}else{J="?"}}z.find(".tocstat-type").html(K);z.find(".tocstat-perc").html(L);z.find(".tocstat-score").html(D);z.find(".tocstat-base").html(J);r.css("background","hsl("+(100-N)+", 100%, 40%)");r.css("border-color","hsl("+(100-N)+", 100%, 10%)");if(K=="tocs"){$("#tocstat-plot-label").html("author prominence:")}else{$("#tocstat-plot-label").html("volume scores:")}var P=z.find(".tocstat-hist-svg");if(G.stat.hist){l(P,G.stat.hist[0])}else{P.hide()}var M=z.find(".tocstat-scat-svg");if(G.stat.scat&&(G.stat.scat[0].last!=G.stat.scat[0].first)){m(M,G.stat.scat[0])}else{M.hide()}var E=z.find(".tocstat-pagerank-svg");if(G.stat.pagerank&&G.stat.pagerankperc){prperc=G.stat.pagerankperc;var L;if(prperc<=50){L="inner "+prperc+"%"}else{L="outer "+(100-prperc)+"%"}$("#tocstat-pagerank").prop("title",L+" community");f(E,prperc);$("#tocstat-centrality").append('<li><i>community:</i> <svg class="icon-svg">'+E.html()+"</svg> "+L+"</li>")}else{E.hide();$("#tocstat-centrality-label").hide();$("#tocstat-centrality").hide()}if(G.stat.ranking&&G.stat.ranking.length>0){var B=$("#tocstat-rankings");var I=z.find(".tocstat-rank");for(var F=0;F<G.stat.ranking.length;F++){var H="<li><em>"+G.stat.ranking[F].key+":</em> "+G.stat.ranking[F].rank+"</li>";B.append(H);I.append(" "+G.stat.ranking[F].rank+"")}}else{$("#tocstat-rankings-label").hide();$("#tocstat-rankings").hide()}$("#tocstat-mdate").html(G.stat.mdate);z.show()}}).fail(function(){z.hide()}).always(function(){console.info("done asking for BHT stats")})};i.initTocListStat=function(){var n=$("ul.publ-list li.toc");n.each(function(p){var t=$(this).find(".data .toc-link");var r=t.attr("href");if(r==b){return}r=r.substring(dblp.BASE_URL.length+1);if(!r.startsWith("db/")){console.warn("inconsistent bht key",t.attr("href"));return}r=r.substring(0,r.indexOf("."))+".bht";var q='<span class="toc-info">??</span>';t.append(q);var v=t.find(".toc-info");v.css("font-size","smaller");v.css("margin-left","0.3em");v.css("padding-left","0.2em");var o="https://dblps.uni-trier.de/~mra/cgi-bin/tocstatdata.py";var u={bhtkey:r};var s=function(){console.debug("calling: ",d(o,u));$.ajax(o,{data:u,dataType:"jsonp"}).done(function(y,A,x){if("error" in y){console.warn("no tocstat for",r,A);v.hide()}else{var w=Number(y.stat.perc);var z=Number(y.stat.score).toFixed(1);q='<span class="box">&#9646;</span><b>'+z+"</b>";v.html(q);v.find("span").css("margin-right","0.2em");v.find("span.box").css("color","hsl("+(100-w)+",100%,40%)")}}).fail(function(w,y,x){console.warn("no tocstat for",r,y,x);v.hide()}).always(function(){console.debug("done calling: ",d(o,u))})};setTimeout(s,p*100)})};i.initResultListStat=function(){$("body.search-page #main").on("mouseenter","ul.result-list",function(){if($(this).data("stat-done")=="true"){return}$(this).children("li").each(function(o){var s=$(this).find("a:first");var q=s.attr("href");if(q==b){return}q=q.substring(dblp.BASE_URL.length+1);if(!q.startsWith("db/")){console.warn("inconsistent bht key",s.attr("href"));return}if(q.indexOf(".")>-1){q=q.substring(0,q.indexOf("."))}if(q.endsWith("/")){q=q+"index"}q=q+".bht";var p='<span class="result-info">??</span>';s.after(p);var u=$(this).find(".result-info");u.css("font-size","smaller");u.css("margin-left","0.3em");u.css("padding-left","0.2em");var n="https://dblps.uni-trier.de/~mra/cgi-bin/tocstatdata.py";var t={bhtkey:q};var r=function(){console.debug("calling: ",d(n,t));$.ajax(n,{data:t,dataType:"jsonp"}).done(function(y,A,x){if("error" in y){console.warn("no tocstat for",q,A);u.hide()}else{var v=Number(y.stat.perc);var z=Number(y.stat.score).toFixed(1);var w=Number(y.stat.pagerankperc);p='<span class="box">&#9726;</span>'+z;if(w){p+='&nbsp;<span class="circ">&#9673;</span>'+w+"%"}u.html(p);u.find("span").css("margin-right","0.2em");u.find("span.box").css("color","hsl("+(100-v)+",100%,40%)");u.find("span.circ").css("color","hsl("+(100-w)+",100%,40%)")}}).fail(function(v,x,w){console.warn("no tocstat for",q,x,w);u.hide()}).always(function(){console.debug("done calling: ",d(n,t))})};setTimeout(r,o*200)});$(this).data("stat-done","true")})};var h=function(o){var n=o.data("doi");if(n===b){console.debug("skipping unpaywall call for ",o);return}var p="https://api.unpaywall.org/v2/"+n+"?email="+dblp.AJAX_CONTACT_EMAIL;console.debug("start asking unpaywall.org for",n);if(dblp.TEAM_MODE_ENABLED||dblp.LEY_MODE_ENABLED||dblp.MRA_MODE_ENABLED){$.post("https://dblps.uni-trier.de/~mra/cgi-bin/200.py?unpaywall")}console.debug("calling: ",p);$.ajax(p,{dataType:"json",crossDomain:true}).done(function(w,x,v){if("best_oa_location" in w&&w.best_oa_location!=null){if("url_for_landing_page" in w.best_oa_location||"url" in w.best_oa_location){var q=o.parent().find("li.ee a").toArray();var s=[];for(var u=0;typeof(q[u])!="undefined";u++){var r=q[u].getAttribute("href");s.push(r.toUpperCase().replace("HTTP://","HTTPS://"))}var t=null;if("url_for_landing_page" in w.best_oa_location){t=w.best_oa_location.url_for_landing_page}if(t==null&&"url" in w.best_oa_location){t=w.best_oa_location.url}if(t==null){console.warn("missing OA URL in API resonse",w);o.remove();return}else{if(s.includes(t.toUpperCase().replace("HTTP://","HTTPS://"))){console.debug("unpaywall URL already an ee:",t);o.parent().find("li.ee").each(function(){var y=$(this).find("a");if(y.attr("href").toUpperCase().replace("HTTP://","HTTPS://")===t.toUpperCase().replace("HTTP://","HTTPS://")){var z=dblp.BASE_URL+"/img/paper-unpaywall.dark.16x16.png";y.find("img").attr("src",z)}y=$(this).closest("li.drop-down").find(".head a");if(y.attr("href").toUpperCase().replace("HTTP://","HTTPS://")===t.toUpperCase().replace("HTTP://","HTTPS://")){var z=dblp.BASE_URL+"/img/paper-unpaywall.dark.hollow.16x16.png";y.find("img").attr("src",z)}});o.remove()}else{o.find("a").attr("href",t);o.removeClass("display-none");o.show()}}}else{o.remove()}}else{o.remove()}}).fail(function(q,s,r){o.remove()}).always(function(){console.info("done asking unpaywall.org")})};i.initUnpaywall=function(){$("#main").on("mouseenter","ul.publ-list li.entry",function(){if($(this).data("unpaywall-done")=="true"){return}h($(this).find("nav.publ>ul>li:first-child li.unpaywall"));$(this).data("unpaywall-done","true")})};var a=function(n){var o=n.data("type");var q=n.data("id");var p="https://api.altmetric.com/v1/";if(o=="doi"){p+="doi/"+q}else{if(o=="arxiv"){p+="arxiv/"+q}else{if(o=="isbn"){p+="isbn/"+q}else{if(o=="uri"){p+="uri/"+encodeURIComponent(q)}else{return}}}}console.debug("start asking altmetrics for",o,q);if(dblp.TEAM_MODE_ENABLED||dblp.LEY_MODE_ENABLED||dblp.MRA_MODE_ENABLED){$.post("https://dblps.uni-trier.de/~mra/cgi-bin/200.py?altmetrics")}console.debug("calling: ",p);$.ajax(p,{dataType:"json",crossDomain:true}).done(function(t,u,s){var r='<a href="'+t.details_url+'"><img alt="" src="https://d1uo4w7k31k5mn.cloudfront.net/v4/'+Math.ceil(t.score)+'.png" />&nbsp;<img alt="" src="'+t.images.medium+'&style=bar" style="height:15px; width:'+(5+Math.ceil(75*Math.min(t.score,50)/50)+Math.ceil(2*Math.sqrt(t.score)))+'px;" /></a>';n.html(r)}).fail(function(r,t,s){n.remove()}).always(function(){console.info("done asking altmetrics")})};var e=function(n){var o=n.data("type");var q=n.data("id");var p="https://metrics-api.dimensions.ai/";if(o=="doi"){p+="doi/"+q}else{return}console.debug("start asking dimensions for",o,q);if(dblp.TEAM_MODE_ENABLED||dblp.LEY_MODE_ENABLED||dblp.MRA_MODE_ENABLED){$.post("https://dblps.uni-trier.de/~mra/cgi-bin/200.py?dimensions")}console.debug("calling: ",p);$.ajax(p,{dataType:"json",crossDomain:true}).done(function(t,u,s){var r='<a href="https://badge.dimensions.ai/details/'+o+"/"+q+'"><img alt="" src="https://badge.dimensions.ai/badge?style=rectangle&count='+t.times_cited+'" height="16px" /></a>';if(t.times_cited>0){n.html(r)}}).fail(function(r,t,s){n.remove()}).always(function(){console.info("done asking dimensions")})};i.initMetrics=function(){$("#main").on("mouseenter","ul.publ-list li.entry nav.publ>ul>li:first-child",function(){if($(this).data("metrics-done")=="true"){return}a($(this).find("div.altmetric-container"));e($(this).find("div.dimensions-container"));$(this).data("metrics-done","true")})};i.init=function(){console.debug("start initializing UI element functions");i.initScrollBars();i.initInpageNav();i.initHideables();i.initDismissables();i.initExpandables();i.initTextSelect();i.initBanner();i.initArchiveUrls();i.initTweets();if(dblp.TEAM_MODE_ENABLED||dblp.LEY_MODE_ENABLED||dblp.MRA_MODE_ENABLED){i.initBhtStat();i.initTocListStat();i.initUnpaywall();i.initMetrics()}if(dblp.MRA_MODE_ENABLED){i.initResultListStat()}console.info("done initializing UI element functions")}})(dblp.ui);$(document).ready(dblp.ui.init());